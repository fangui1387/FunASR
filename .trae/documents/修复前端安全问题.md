## 修复计划

### 1. 修复 XSS 漏洞 (高危)
- 将 `index.html` 中的 `innerHTML` 替换为 `textContent`
- 使用 `document.createElement` 安全地创建 DOM 元素
- 确保所有用户输入/服务器返回的内容都经过安全处理

### 2. 移除硬编码的敏感信息 (中危)
- 将 `wsClient.js` 中的默认 headers 设为空对象
- 添加注释说明需要用户自行配置认证信息

### 3. 添加 WebSocket URL 安全验证 (中危)
- 在 `wsClient.js` 的 `_validateUrl` 方法中添加安全警告
- 当使用 `ws://` 协议时，在非本地环境给出警告

### 4. 改进 HTML 转义函数 (低危)
- 增强 `escapeHtml` 函数，处理更多特殊字符
- 使用更严格的转义策略

### 5. 条件化 vConsole (低危)
- 将 vConsole 初始化改为仅在开发环境启用
- 添加环境检测逻辑

## 修改文件列表
1. `/Users/mengfangui/work/mfg/company/项目管理/2026年后的文档/语音/FunASR/runtime/html5-new/static/index.html`
2. `/Users/mengfangui/work/mfg/company/项目管理/2026年后的文档/语音/FunASR/runtime/html5-new/static/js/wsClient.js`